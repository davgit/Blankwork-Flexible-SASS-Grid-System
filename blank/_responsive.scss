// 
// These mixins are for the library to use only, you should not need to modify
// them at all.
// *
// Enclose a block of code with a media query as named in `$breakpoints`.
@mixin media-query($media-query){
    $breakpoint-found: false;

    @each $breakpoint in $breakpoints{
        // This is a loop, no need to do all that other stuff if the breakpoint was already found
        @if $breakpoint_found != true {       
            
            $name: nth($breakpoint, 1);
            $declaration: nth($breakpoint, 2);

            @if $media-query == $name and $declaration{
                $breakpoint-found: true;

                @media only screen and #{$declaration} {
                    @content;
                }
            }
        }
    } // end @each;

    @if $breakpoint-found == false{
        @warn "Breakpoint ‘#{$media-query}’ does not exist"
    }
}


// /* -----------------------------------*/
// /*	 Responsive Columns
// /* -----------------------------------*/

@mixin palm($columns: $max_palm_columns) {
    @if $columns > $max_palm_columns{
        @warn "You passed in #{$columns} columns, but you can't have more than #{$max_palm_columns} with the current map that you've set!";
    }
    @include col($columns, palm, $palm_map);
}

@mixin lap($columns: $max_lap_columns) {
    @if $columns > $max_lap_columns{
        @warn "You passed in #{$columns} columns, but you can't have more than #{$max_lap_columns} with the current map that you've set!";
    }
    @include col($columns, lap, $lap_map);
}


@mixin portable($columns: $max_palm_columns) {
    @if $columns > $max_portable_columns{
        @warn "You passed in #{$columns} columns, but you can't have more than #{$max_portable_columns} with the current map that you've set!";
    }
    @include col($columns, portable, $portable_map);
}


@mixin desk($columns: $max_desk_columns) {
    @if $columns > $max_desk_columns{
        @warn "You passed in #{$columns} columns, but you can't have more than #{$max_desk_columns} with the current map that you've set!";
    }
    @include col($columns, desk, $desk_map);
}